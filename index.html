
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MaxiLib Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
          </li>
          <li>
            <a href="#maxiaudio" class="toc-h1 toc-link" data-title="maxiAudio">maxiAudio</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
                  <li>
                    <a href="#properties" class="toc-h2 toc-link" data-title="properties">properties</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxidelay" class="toc-h1 toc-link" data-title="maxiDelay">maxiDelay</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-2" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxienv" class="toc-h1 toc-link" data-title="maxiEnv">maxiEnv</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-3" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxifilter" class="toc-h1 toc-link" data-title="maxiFilter">maxiFilter</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-4" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maximix" class="toc-h1 toc-link" data-title="maxiMix">maxiMix</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-5" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxiosc" class="toc-h1 toc-link" data-title="maxiOsc">maxiOsc</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-6" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxipitchshift" class="toc-h1 toc-link" data-title="maxiPitchShift">maxiPitchShift</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-7" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxipitchstretch" class="toc-h1 toc-link" data-title="maxiPitchStretch">maxiPitchStretch</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-8" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxisample" class="toc-h1 toc-link" data-title="maxiSample">maxiSample</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-9" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxitimestretch" class="toc-h1 toc-link" data-title="maxiTimestretch">maxiTimestretch</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-10" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#maxitools" class="toc-h1 toc-link" data-title="maxiTools">maxiTools</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-11" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#convert" class="toc-h1 toc-link" data-title="convert">convert</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods-12" class="toc-h2 toc-link" data-title="methods">methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#examples" class="toc-h1 toc-link" data-title="Examples">Examples</a>
          </li>
          <li>
            <a href="#undocumented-classes" class="toc-h1 toc-link" data-title="Undocumented classes">Undocumented classes</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='overview'>Overview</h1>
<p>MaxiLib is an <a href="http://kripken.github.io/emscripten-site/">emscripten</a> compilation of <em>Maximilian</em>.</p>

<p><em>Maximilian</em> is an open source, MIT licensed C++ audio synthesis library. It’s designed to be cross platform and simple to use. The syntax and program structure are based on the popular ‘Processing’ environment. <em>Maximilian</em> provides standard waveforms, envelopes, sample playback, resonant filters, and delay lines. In addition, equal power stereo, quadraphonic and 8-channel ambisonic support is included. There’s also Granular synthesisers with Timestretching, FFTs and some Music Information Retrieval stuff.</p>

<p><a href="http://maximilian.strangeloop.co.uk/">http://maximilian.strangeloop.co.uk/</a></p>

<p><strong>Examples:</strong></p>

<p><a href="http://igor.gold.ac.uk/~skata001/AVC/maxiLib/examples/">http://igor.gold.ac.uk/~skata001/AVC/maxiLib/examples/</a></p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxiaudio'>maxiAudio</h1>
<p>This is the audio context. You must always have one to produce sound with maxiLib</p>
<h2 id='methods'>methods</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiAudio</span><span class="p">();</span>
<span class="c1">// initialise the audio engine</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

<span class="c1">//  channel output</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">outputIsArray</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">sample</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiSample</span><span class="p">();</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">loadSample</span><span class="p">(</span><span class="s2">"mysample.wav"</span><span class="p">,</span> <span class="nx">sample</span><span class="p">);</span>

<span class="nx">audio</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">output</span> <span class="o">=</span> <span class="nx">sample</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><h3 id='init'>init()</h3>
<p>initialise the audio engine</p>
<h3 id='outputisarray-isarray-numchannels'>outputIsArray(isArray, numChannels)</h3>
<p>for multi channel sound
  - isArray = true or false
  - numChannels = 2, 4, or 8</p>
<h3 id='loadsample-sampleurl-maxisample'>loadSample(sampleUrl, maxiSample)</h3>
<p>load a sample into a maxiSample object</p>
<h2 id='properties'>properties</h2><h3 id='play'>play</h3>
<p>the function that is the play loop</p>
<h3 id='output'>output</h3>
<p>the current value of the audio output</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxidelay'>maxiDelay</h1>
<p>A simple delay line</p>
<h2 id='methods-2'>methods</h2><h3 id='dl-inputsignal-delaytime-foldback'>dl(inputSignal, delayTime, foldback)</h3>
<p>process a signal with delay</p>

<p>inputSignal (any signal eg. output from an oscillator
delayTime (a value in milliseconds)
foldback (how much of the signal to feedback into the delay buffer - determines how long echos last)</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxienv'>maxiEnv</h1>
<p>An adsr envelope</p>
<h2 id='methods-3'>methods</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiAudio</span><span class="p">();</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

<span class="c1">// these oscillators will help us count and play sound</span>
<span class="kd">var</span> <span class="nx">myCounter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiOsc</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">myOsc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiOsc</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">myOscOutput</span><span class="p">,</span> <span class="nx">myEnvOut</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">myEnvelope</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiEnv</span><span class="p">();</span>

<span class="c1">//Timing is in ms</span>
<span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">setAttack</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">setDecay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// Needs to be at least 1</span>
<span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">setSustain</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">setRelease</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

<span class="nx">audio</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">//notice that we feed in a value of 1. to create an envelope shape we can apply later.</span>
    <span class="nx">myEnvOut</span> <span class="o">=</span> <span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">adsr</span><span class="p">(</span><span class="mi">1</span><span class="p">.,</span> <span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">trigger</span><span class="p">);</span>

    <span class="c1">//phasor can take three arguments; frequency, start value and end value.</span>
    <span class="kd">var</span> <span class="nx">currentCount</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">myCounter</span><span class="p">.</span><span class="nx">phasor</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">));</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">currentCount</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//trigger the envelope</span>
        <span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">trigger</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">//release the envelope to make it fade out only if it's been triggered</span>
        <span class="nx">myEnvelope</span><span class="p">.</span><span class="nx">trigger</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">myOscOutput</span> <span class="o">=</span> <span class="nx">myOsc</span><span class="p">.</span><span class="nx">sawn</span><span class="p">(</span><span class="mi">150</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">output</span> <span class="o">=</span> <span class="nx">myOscOutput</span> <span class="o">*</span> <span class="nx">myEnvOut</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='setattack-time'>setAttack(time)</h3>
<p>time = milliseconds</p>
<h3 id='setdecay-time'>setDecay(time)</h3>
<p>time = milliseconds</p>
<h3 id='setsustain-level'>setSustain(level)</h3>
<p>level = a value between 0.0 and 1.0</p>
<h3 id='setrelease-time'>setRelease(time)</h3>
<p>time = milliseconds</p>
<h3 id='adsr-level-trigger'>adsr(level, trigger)</h3>
<p>level (the overall level of the envelope; everything will be scaled by this value)
trigger (envelope will begin attack when set to 1.0 and release when set to 0.0)</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxifilter'>maxiFilter</h1>
<p>A bunch of useful filter methods</p>
<h2 id='methods-4'>methods</h2><h3 id='lores-input-cutoff-resonance'>lores(input, cutoff, resonance)</h3>
<p>A lowpass resonant filter. Returns the filtered frequency.</p>

<p>input = input signal
cutoff = cutoff frequency in Hz
resonance = a value between 0.0 &amp; 10.0</p>
<h3 id='hires-input-cutoff-resonance'>hires(input, cutoff, resonance)</h3>
<p>A highpass resonant filter. Returns the filtered frequency.</p>

<p>input = input signal
cutoff = cutoff frequency in Hz
resonance = a value between 0.0 &amp; 10.0
maxiFFT
methods</p>
<h3 id='setup-fftsize-windowsize-hopsize'>setup(fftSize, windowSize, hopSize)</h3>
<p>must be called before using the FFT</p>

<p>fftSize = (A power of two, 1024, 512 ... etc)
windowSize = half the fftSize
hopSize = half the windowSize</p>
<h3 id='process-sig'>process(sig)</h3>
<p>returns true if successful</p>

<p>sig = signal in</p>
<h3 id='getmagnitude-index'>getMagnitude(index)</h3>
<p>get the magnitude of a particular bin</p>

<p>index = A number between 0 and the fftSize/2</p>
<h3 id='getmagnitudedb-index'>getMagnitudeDB(index)</h3>
<p>get the decibels of a particular bin</p>
<h3 id='magstodb'>magsToDb()</h3>
<p>perform the conversion on all bins</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maximix'>maxiMix</h1>
<p>A multichannel mixer.</p>
<h2 id='methods-5'>methods</h2><h3 id='stereo-sig-outputarray-pan'>stereo(sig, outputArray, pan)</h3>
<p>Makes a stereo mix.</p>

<p>sig = inputsignal
outputArray = VectorDbl array (see maxiTools)
pan = a value between 0 &amp; 1</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxiosc'>maxiOsc</h1>
<p>An oscillator with methods for a number of waveforms</p>
<h2 id='methods-6'>methods</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiAudio</span><span class="p">();</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">mySine</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiOsc</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">myOtherSine</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiOsc</span><span class="p">();</span>

<span class="nx">audio</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// these two sines will beat together. They're now a bit too loud though..</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">output</span> <span class="o">=</span> <span class="nx">mySine</span><span class="p">.</span><span class="nx">sinewave</span><span class="p">(</span><span class="mi">440</span><span class="p">)</span> <span class="o">+</span> <span class="nx">myOtherSine</span><span class="p">.</span><span class="nx">sinewave</span><span class="p">(</span><span class="mi">441</span><span class="p">);</span>
 <span class="p">}</span>
</code></pre><h3 id='sinewave-frequency'>sinewave(frequency)</h3>
<p>outputs a sine wave at the given frequency between -1.0 &amp; 1.0</p>
<h3 id='triangle-frequency'>triangle(frequency)</h3>
<p>outputs a triangle wave at the given frequency between -1.0 &amp; 1.0</p>
<h3 id='saw-frequency'>saw(frequency)</h3>
<p>outputs a sawtooth wave at the given frequency between -1.0 &amp; 1.0</p>
<h3 id='square-frequency'>square(frequency)</h3>
<p>outputs a square wave at the given frequency between 0.0 &amp; 1.0</p>
<h3 id='phasor-frequency'>phasor(frequency)</h3>
<p>outputs a linear ramp at the given frequency between 0.0 &amp; 1.0</p>
<h3 id='phasereset-phase'>phaseReset(phase)</h3>
<p>reset the phase to a specific value</p>

<p>phase (a value between 0 &amp; 1)</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxipitchshift'>maxiPitchShift</h1>
<p>plays a sample at different pitches leaving the speed unchanged</p>
<h2 id='methods-7'>methods</h2><h3 id='setsample-maxisample'>setSample(maxiSample)</h3>
<p>sets the sample play for pitchShift to use</p>
<h3 id='play-pitch-grainlength-overlaps-startpos'>play(pitch, grainLength, overlaps, startPos)</h3>
<p>pitch (eg. 0.5 = half pitch)
grainLength (a time in seconds)
overlaps (normally 2 is good)
startPos (where to start playing in the sample - in seconds)</p>
<h3 id='setposition-startpos'>setPosition(startPos)</h3>
<p>useful for resetting a sound</p>
<h3 id='getposition'>getPosition()</h3>
<p>returns position in ???</p>
<h3 id='getnormalisedposition'>getNormalisedPosition()</h3>
<p>Useful for ending sample play back</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxipitchstretch'>maxiPitchStretch</h1>
<p>plays a sample with independent control of pitch and speed</p>
<h2 id='methods-8'>methods</h2><h3 id='setsample-maxisample-2'>setSample(maxiSample)</h3>
<p>sets the sample play for timestretch to use</p>
<h3 id='play-pitch-rate-grainlength-overlaps-startpos'>play(pitch, rate, grainLength, overlaps, startPos)</h3>
<p>pitch (eg. 0.5 = half pitch)
rate (eg. 0.5 = half speed)
grainLength (a time in seconds)
overlaps (normally 2 is good)
startPos (where to start playing in the sample - in seconds)</p>
<h3 id='getposition-2'>getPosition()</h3>
<p>returns position in ???</p>
<h3 id='getnormalisedposition-2'>getNormalisedPosition()</h3>
<p>Useful for ending sample play back</p>
<h3 id='setposition-startpos-2'>setPosition(startPos)</h3>
<p>useful for resetting a sound</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxisample'>maxiSample</h1><h2 id='methods-9'>methods</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiAudio</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">sample</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiSample</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">sample2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">maximJs</span><span class="p">.</span><span class="nx">maxiSample</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">sampleOut</span><span class="p">;</span>

<span class="c1">// initialise the audio engine</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

<span class="nx">audio</span><span class="p">.</span><span class="nx">loadSample</span><span class="p">(</span><span class="s2">"sample.wav"</span><span class="p">,</span> <span class="nx">sample</span><span class="p">);</span>
<span class="nx">audio</span><span class="p">.</span><span class="nx">loadSample</span><span class="p">(</span><span class="s2">"sample2.wav"</span><span class="p">,</span> <span class="nx">sample2</span><span class="p">);</span>

<span class="nx">audio</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">sample</span><span class="p">.</span><span class="nx">isReady</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">sample2</span><span class="p">.</span><span class="nx">isReady</span><span class="p">())</span> <span class="p">{</span>

        <span class="c1">// trigger sample2 every 1000 milliseconds</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">sample2</span><span class="p">.</span><span class="nx">trigger</span><span class="p">();</span>
        <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>

        <span class="c1">// play sample at half speed and play sample2 once</span>
        <span class="nx">sampleOut</span> <span class="o">=</span> <span class="nx">sample</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="o">+</span> <span class="nx">sample2</span><span class="p">.</span><span class="nx">playOnce</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">output</span> <span class="o">=</span> <span class="nx">sampleOut</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='play-2'>play()</h3>
<p>plays the sample at normal speed</p>
<h3 id='play-playrate'>play(playRate)</h3>
<p>plays the sample at the specified play rate</p>
<h3 id='playonce'>playOnce()</h3>
<p>play the sample once at normal speed</p>
<h3 id='playonce-playrate'>playOnce(playRate)</h3>
<p>plays the sample once at specified play rate</p>
<h3 id='trigger'>trigger()</h3>
<p>set the playhead to zero (use in conjunction with playOnce)</p>
<h3 id='isready'>isReady()</h3>
<p>returns true if sample is loaded</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxitimestretch'>maxiTimestretch</h1><h2 id='methods-10'>methods</h2><h3 id='setsample-maxisample-3'>setSample(maxiSample)</h3>
<p>sets the sample play for timestretch to use</p>
<h3 id='play-rate-grainlength-overlaps-startpos'>play(rate, grainLength, overlaps, startPos)</h3>
<p>rate (eg. 0.5 = half speed)
grainLength (a time in seconds)
overlaps (normally 2 is good)
startPos (where to start playing in the sample - in seconds)</p>
<h3 id='setposition-startpos-3'>setPosition(startPos)</h3>
<p>useful for resetting a sound</p>
<h3 id='getposition-3'>getPosition()</h3>
<p>returns position in ???</p>
<h3 id='getnormalisedposition-3'>getNormalisedPosition()</h3>
<p>Useful for ending sample play back</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='maxitools'>maxiTools</h1><h2 id='methods-11'>methods</h2><h3 id='getarrayasvectordbl-inputarray'>getArrayAsVectorDbl(inputArray)</h3>
<p>Returns the array as a VectorDbl object. (Needed for maxiMix).</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='convert'>convert</h1>
<p>A collection of conversion functions. Currently numbering one !</p>
<h2 id='methods-12'>methods</h2><h3 id='mtof-midi'>mtof(midi)</h3>
<p>pass a midi value and its frequency is returned</p>

<!--  /////////////////////////////////////////////// -->
<h1 id='examples'>Examples</h1>
<p>This website contains a bunch of MaxiLib examples:</p>

<p><a href="http://igor.gold.ac.uk/~skata001/AVC/maxiLib/examples/">http://igor.gold.ac.uk/~skata001/AVC/maxiLib/examples/</a></p>
<h1 id='undocumented-classes'>Undocumented classes</h1>
<p>maxiArray</p>

<p>maxiChorus</p>

<p>maxiClock</p>

<p>maxiDCBlocker</p>

<p>maxiDistortion</p>

<p>maxiDyn</p>

<p>maxiEnvelope</p>

<p>maxiEnvelopeFollower (undefined)</p>

<p>maxiFFTOctaveAnalyzer</p>

<p>maxiFlanger</p>

<p>maxiHats</p>

<p>maxiIFFT</p>

<p>maxiKick</p>

<p>maxiLagExp</p>

<p>maxiMFCC</p>

<p>maxiMap</p>

<p>maxiSVF</p>

<p>maxiSettings</p>

<p>maxiSnare</p>

<p>maxiTools</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
